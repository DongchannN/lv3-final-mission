
## 헬스장 PT 예약 서비스

### 사용자
- MEMBER : 헬스장을 이용하는 일반 회원
- TRAINER : 헬스장에서 회원을 가르치는 트레이너

회원은 트레이너의 기능을 사용할 수 없고, 트레이너 또한 회원의 기능을 사용할 수 없다.

### MEMBER

#### 회원가입
- 사용자는 예약 서비스를 이용하기 위해 회원가입을 할 수 있다.
- 회원가입 시 필요한 정보는 아래와 같다.
  - 사용자 이름
  - 사용자 전화번호
  - 비밀번호
  - 등록할 헬스장
- 사용자의 닉네임을 랜덤으로 생성된다.
- 이미 핸드폰 번호가 등록되어 있는 경우 회원가입을 할 수 없다.

#### 로그인
- 사용자는 전화번호와 비밀번호를 이용하여 로그인을 할 수 있다.
- 저장된 비밀번호와 입력한 비밀번호가 다르다면 로그인에 실패한다.

#### 예약 현황 조회
- 사용자는 예약 현황을 조회할 수 있다.
- 예약 현황 조회 시 필요한 정보는 아래와 같다.
  - 트레이너 선생님 id
  - 헬스장 id
  - 운동할 날짜
- 예약 현황 조회 시 응답하는 정보는 아래와 같다.
  - 운동 시간
  - 해당 운동 시간에 예약한 사람의 수

#### 예약
- 사용자는 운동을 예약할 수 있다.
- 예약하기 위해 필요한 정보는 아래와 같다.
  - 예약할 선생님 id
  - 헬스장 id
  - 운동할 날짜
  - 운동할 시간
- 대기가 없다면 바로 예약 확정이 된다.
- 대기가 있다면 예약 대기가 된다.
- 트레이너의 1회 PT 크래딧보다 잔고가 부족하면 예약 또는 예약 대기가 불가하다.
- 이미 자신이 해당 시간, 날짜, 트레이너, 헬스장에 예약하였다면 중복 예약은 불가하다.

#### 내 예약
- 자신의 예약을 리스트로 조회할 수 있다.
- 자신의 예약을 단일로 조회할 수 있다.
- 자신의 예약을 수정할 수 있다.
- 수정 시 대기가 없다면 바로 예약 확정이 된다.
  - 트레이너 선생님이 다르다면 차액은 환불 또는 추가 결제가 된다.
  - 추가 결제가 필요할 시 잔고가 부족하면 예약은 불가하다.
- 수정 시 대기가 있다면 예약 대기가 된다.
  - 대기 시 차액은 바로 결제되지 않는다.
  - 하지만 추가 결제할 잔고가 없다면 예약 대기는 불가하다.
- 자신의 예약을 취소할 수 있다.
  - 결제한 크레딧은 환불된다.
  - 다음 대기 순번이 자동으로 예약 확정 상태가 된다.

### TRAINER

#### 회원가입
- 사용자는 예약 서비스를 이용하기 위해 회원가입을 할 수 있다.
- 회원가입 시 필요한 정보는 아래와 같다.
  - 사용자 이름
  - 사용자 전화번호
  - 비밀번호
  - 자기 소개
  - 프로필 사진
  - 자신의 PT 가격
  - 속한 헬스장
- 이미 핸드폰 번호가 등록되어 있는 경우 회원가입을 할 수 없다.

#### 로그인
- 사용자는 전화번호와 비밀번호를 이용하여 로그인을 할 수 있다.
- 저장된 비밀번호와 입력한 비밀번호가 다르다면 로그인에 실패한다.

#### 수업 조회
- 사용자는 자신의 수업들을 조회할 수 있다.
  - 수업은 예약 확정이 된 운동 예약이다.
- 수업들을 조회 시 응답하는 정보는 아래와 같다.
  - 운동 시간
  - 운동 날짜
  - 수업 받는 회원의 이름

#### 수업 취소
- 사용자는 회원의 수업을 취소할 수 있다.
- 요청 시 필요한 정보는 아래와 같다.
  - 수업의 id
- 다른 트레이너의 수업을 취소할 수 없다.
- 수업을 취소하면 회원에게 크레딧이 환불된다.
- 수업을 취소하면 다음 대기 회원이 수업을 받게 된다.

#### 수업 일정
- 사용자는 수업 일정을 등록할 수 있다.
- 사용자는 수업 일정을 삭제할 수 있다.
- 사용자는 수업 일정을 수정할 수 있다.
- 사용자는 자신이 등록한 수업 일정을 조회할 수 있다.
- 삭제, 수정은 자신의 수업일정만 가능하다.

#### 마이페이지
- 사용자는 마이페이지에서 자신의 정보를 조회할 수 있다.
- 조회 할 수 있는 정보는 아래와 같다.
  - 이름
  - 설명
  - 프로필 사진
  - 자신의 PT 가격
  - 속한 헬스장 id
  - 속한 헬스장 이름
- 사용자는 자신의 정보를 수정할 수 있다.
- 수정할 수 있는 정보는 아래와 같다.
  - 이름
  - 자신의 PT 가격
  - 자기 소개
  - 프로필 사진
  - 속한 헬스장
